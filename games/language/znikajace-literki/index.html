<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>ZnikajÄ…ce literki â€“ Neon Arcade</title>

    <!-- Motyw globalny -->
    <link rel="stylesheet" href="../../../css/theme.css" />
    <!-- Styl gry -->
    <link rel="stylesheet" href="game.css" />

    <!-- Supabase (jeÅ›li uÅ¼ywasz CDN; jeÅ›li masz inaczej, moÅ¼esz to usunÄ…Ä‡) -->
    <script
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"
      defer
    ></script>

    <!-- Core -->
    <script src="../../../js/core/auth.js" defer></script>
    <script src="../../../js/core/progress.js" defer></script>
    <script src="../../../js/core/coins.js" defer></script>
    <script src="../../../js/core/auth-bar.js" defer></script>
    <script src="../../../js/core/ui.js" defer></script>

    <!-- Logika gry -->
    <script src="game.js" defer></script>
  </head>
  <body class="arcade-body arcade-game-page">
    <!-- Pasek logowania -->
    <div
      data-arcade-auth-bar
      data-after-login="../../../arcade.html"
      data-after-guest="../../../arcade.html"
    ></div>

    <div class="shell">
      <div class="card game-root">
        <header class="game-header">
          <div>
            <h1 class="game-title">ZnikajÄ…ce literki</h1>
            <p class="game-subtitle">
              ZapamiÄ™taj sÅ‚owo, poczekaj aÅ¼ zniknÄ… literki i uzupeÅ‚nij je z
              klawiatury na dole. Zdobywaj diaxy i odblokowuj kolejne poziomy.
            </p>
          </div>

          <div class="top-stats">
            <div class="score-panel">
              <div class="score-box">
                <span class="score-label">NajwyÅ¼szy poziom</span>
                <span id="highest-level" class="score-value">1</span>
              </div>
              <div class="score-box">
                <span class="score-label">SÅ‚Ã³wka razem</span>
                <span id="total-solved" class="score-value">0</span>
              </div>
              <div class="score-box">
                <span class="score-label">Najlepsza seria</span>
                <span id="best-streak" class="score-value">0</span>
              </div>
            </div>

            <div class="controls-panel">
              <button
                id="new-game-btn"
                class="arcade-btn btn-primary"
                type="button"
              >
                Nowa gra
              </button>
              <button
                id="save-game-btn"
                class="arcade-btn btn-primary"
                type="button"
              >
                Zapisz
              </button>
              <button
                id="reset-record-btn"
                class="arcade-btn arcade-btn--ghost"
                type="button"
              >
                Resetuj rekord
              </button>
            </div>
          </div>
        </header>

        <!-- POZIOMY NAD GRÄ„ -->
        <section class="levels-strip">
          <div class="levels-strip-header">
            <h2 class="section-title">Poziomy</h2>
            <p class="section-subtitle">
              Kliknij kÃ³Å‚ko, Å¼eby zmieniÄ‡ poziom. Kolejne odblokujesz, gdy
              zrobisz postÄ™p.
            </p>
          </div>
          <div id="level-list" class="level-list level-list--row"></div>
        </section>

        <!-- GÅÃ“WNY OBSZAR GRY -->
        <main class="game-main">
          <section class="play-section">
            <div class="round-info">
              <span>
                Poziom:
                <strong id="current-level-label">1</strong>
              </span>
              <span>
                UkoÅ„czone na tym poziomie:
                <strong id="level-solved">0</strong>/<span
                  id="level-target"
                  >0</span
                >
              </span>
            </div>

            <div class="word-area">
              <div class="word-display">
                <div
                  id="word-phase-label"
                  class="word-label word-label--phase"
                >
                  ZapamiÄ™taj sÅ‚owo:
                </div>
                <div id="word-original" class="word-original">---</div>

                <div class="word-label word-label--after">
                  <span id="fill-label">UzupeÅ‚nij literki:</span>
                </div>
                <div id="word-masked" class="word-masked">---</div>
              </div>

              <div class="hint-area">
                <div id="timer-bar" class="timer-bar timer-bar--hidden"></div>
              </div>

              <div id="keyboard" class="keyboard"></div>

              <div class="secondary-actions">
                <div class="secondary-actions-left">
                  <button
                    id="backspace-btn"
                    class="arcade-btn arcade-btn--ghost secondary-btn"
                    type="button"
                  >
                    âŒ« Cofnij literÄ™
                  </button>
                </div>
                <div class="secondary-actions-right">
                  <button
                    id="skip-btn"
                    class="arcade-btn arcade-btn--ghost secondary-btn"
                    type="button"
                  >
                    PomiÅ„
                  </button>
                  <button
                    id="refresh-btn"
                    class="arcade-btn arcade-btn--ghost secondary-btn"
                    type="button"
                    title="Nowe sÅ‚owo"
                  >
                    âŸ³
                  </button>
                  <button
                    id="hint-btn"
                    class="arcade-btn btn-primary secondary-btn"
                    type="button"
                  >
                    PodpowiedÅº (-5 ðŸ’Ž)
                  </button>
                </div>
              </div>

              <div id="message" class="game-message"></div>
            </div>
          </section>
        </main>

        <footer class="game-info">
          Na niÅ¼szych poziomach sÅ‚owo jest prostsze i widaÄ‡ je dÅ‚uÅ¼ej. Na
          wyÅ¼szych: wiÄ™cej znikajÄ…cych literek, wiÄ™cej mylÄ…cych klawiszy,
          dÅ‚uÅ¼sze sÅ‚owa i wiÄ™cej sÅ‚Ã³wek do zaliczenia poziomu. Podpowiedzi
          kosztujÄ… diaxy ðŸ’Ž.
        </footer>
      </div>
    </div>
  </body>
</html>
