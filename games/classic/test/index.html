<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Neon Arcade ‚Äì Gra</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- favicon z root -->
    <link rel="icon" href="../../../favicon.ico" />
    <link rel="shortcut icon" href="../../../favicon.ico" />

    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="game.css" />

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>

    <script src="../../../js/core/auth.js" defer></script>
    <script src="../../../js/core/progress.js" defer></script>
    <script src="../../../js/core/coins.js" defer></script>
    <script src="../../../js/core/auth-bar.js" defer></script>
    <script src="../../../js/core/ui.js" defer></script>

    <script src="game.js" defer></script>
  </head>

  <body class="arcade-body arcade-game">
    <!-- Pasek logowania (na bardzo wƒÖskich ekranach chowa formularz automatycznie przez CSS) -->
    <div data-arcade-auth-bar></div>

    <div class="ga-shell">
      <section class="ga-card">
        <!-- WƒÑSKI TOP: tytu≈Ç lewo, akcje prawo -->
        <div class="ga-topbar">
          <h1 class="ga-title" id="ga-title">Nazwa gry</h1>

          <div class="ga-actions">
            <button class="ga-btn ga-btn-primary" id="btn-new">
              <span class="ico">üîÅ</span>Nowa
            </button>

            <button class="ga-btn ga-btn-secondary" id="btn-save" hidden>
              <span class="ico">üíæ</span>Zapisz
            </button>

            <button class="ga-btn ga-btn-ghost" id="btn-pause" hidden>
              <span class="ico" id="pause-ico">‚ñ∂</span>
              <span id="pause-txt">Wzn√≥w</span>
            </button>

            <button class="ga-btn-mini" id="btn-stats">
              <span class="ico">üìä</span>Staty
            </button>
          </div>
        </div>

        <!-- PANEL STATYSTYK: otwierany przyciskiem -->
        <section class="ga-stats-panel" id="stats-panel">
          <div class="ga-stats">
            <div class="ga-stat c1">
              <span class="k">Wynik</span><span class="v" id="v-score">0</span>
            </div>
            <div class="ga-stat c2">
              <span class="k">Rekord</span><span class="v" id="v-best">0</span>
            </div>
            <div class="ga-stat c3" id="stat3" hidden>
              <span class="k">Stat 3</span><span class="v" id="v-s3">‚Äì</span>
            </div>
            <div class="ga-stat c4" id="stat4" hidden>
              <span class="k">Stat 4</span><span class="v" id="v-s4">‚Äì</span>
            </div>
            <div class="ga-stat c5" id="stat5" hidden>
              <span class="k">Stat 5</span><span class="v" id="v-s5">‚Äì</span>
            </div>
          </div>

          <div class="ga-stats-actions">
            <button class="ga-record-reset" id="btn-reset-best">
              resetuj rekord
            </button>
            <button class="ga-btn-mini" id="btn-stats-close">Zamknij</button>
          </div>
        </section>

        <!-- MIEJSCE NA GRƒò -->
        <div class="ga-stage">
          <div id="game-mount" class="game-area">
            <!-- gra renderuje tu swoje UI (plansza/canvas/kafelki) -->
          </div>
        </div>

        <!-- D√ì≈Å: sterowanie + hinty -->
        <footer class="ga-footer">
          <div class="ga-controls-slot" id="controls-slot" style="--controls-h:auto">
            <!-- Je≈õli gra ma dodatkowe przyciski sterowania, umieszcza je tutaj -->
            <!-- Przyk≈Çad: -->
            <!-- <button class="ga-control-btn" data-action="left">‚óÄ</button> -->
          </div>

          <div class="ga-hints" id="hints-slot">
            <!-- opcjonalne hinty za üíé -->
            <button class="ga-hint-btn" id="btn-hint" hidden>
              Podpowied≈∫ <span class="cost">üíé 3</span>
            </button>
          </div>
        </footer>
      </section>
    </div>

    <!-- Minimalny JS do toggle statystyk (mo≈ºesz przenie≈õƒá do game.js) -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const panel = document.getElementById("stats-panel");
        const btnOpen = document.getElementById("btn-stats");
        const btnClose = document.getElementById("btn-stats-close");

        btnOpen?.addEventListener("click", () => panel?.classList.toggle("open"));
        btnClose?.addEventListener("click", () => panel?.classList.remove("open"));
      });
    </script>
  </body>
</html>
