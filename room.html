<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Neon Arcade – Pokój</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- globalny motyw -->
    <link rel="stylesheet" href="css/theme.css" />
    <!-- styl pokoju 2D (ma priorytet) -->
    <link rel="stylesheet" href="css/room.css" />

    <!-- supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>

    <!-- core Neon Arcade -->
    <script src="js/core/auth.js" defer></script>
    <script src="js/core/progress.js" defer></script>
    <script src="js/core/coins.js" defer></script>
    <script src="js/core/auth-bar.js" defer></script>
    <script src="js/core/ui.js" defer></script>
    <script src="js/core/room-api.js" defer></script>

    <!-- logika pokoju -->
    <script src="js/pages/room-scene.js" defer></script>
  </head>

  <!-- ✅ dodaj klasę, żeby room.css mógł bezpiecznie nadpisać theme -->
  <body class="page-room">
    <!-- ✅ usuń data-back-url, bo back button i tak dodaje ArcadeUI (albo odwrotnie) -->
    <div data-arcade-auth-bar data-after-login="room.html"></div>

    <main class="room2d-page">
      <header class="room2d-header">
        <div class="room2d-header-left">
          <h1 class="room2d-title">Twój pokój</h1>
          <p class="room2d-subtitle">
            Ustawiaj meble, trofea i lampy. Włącz <b>Tryb edycji</b>, żeby przeciągać przedmioty.
          </p>
        </div>

        <div class="room2d-header-right">
          <button id="room-btn-open-shop" class="room2d-btn room2d-btn-secondary" type="button">
            Sklep
          </button>
          <button id="room-btn-edit" class="room2d-btn room2d-btn-secondary" type="button">
            Tryb edycji
          </button>
          <button id="room-btn-save" class="room2d-btn" type="button">
            Zapisz
          </button>
        </div>
      </header>

      <!-- ✅ wrapper + bg + scena obiektów – to masz dobrze -->
      <section class="room2d-scene-wrapper">
        <div class="room2d-scene-bg"></div>
        <div class="room2d-scene" id="room-scene"></div>
      </section>

      <p class="room2d-hint">
        W trybie edycji: przeciągaj, aby przesuwać. Kliknięcie usuwa przedmiot z pokoju (pozostaje kupiony w sklepie).
      </p>
    </main>
  </body>
</html>
